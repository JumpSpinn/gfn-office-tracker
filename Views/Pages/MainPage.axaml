<UserControl
    x:DataType="vm:MainPageViewModel"
    x:Class="OfficeTracker.Views.Pages.MainPage"
    xmlns:vm="using:OfficeTracker.ViewModels.Pages"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:fluent="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
    mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="650">
    <Panel Effect="{Binding BlurEffect}">
	    <Panel.Background>
		    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
		     <GradientStop Color="#00111f" Offset="0.0"/>
		     <GradientStop Color="#00080f" Offset="1.0"/>
		    </LinearGradientBrush>
	    </Panel.Background>
	    <Grid RowDefinitions="Auto,*" ColumnDefinitions="*">
		    <!-- Header -->
            <Border Grid.Row="0" Margin="10" Padding="10" CornerRadius="4" BorderThickness="1">
	            <Border.Background>
		            <LinearGradientBrush StartPoint="100%,0%" EndPoint="100%,100%" Opacity=".5">
			            <GradientStop Color="#30FFFFFF" Offset="0.0"/>
			            <GradientStop Color="#20FFFFFF" Offset="1.0"/>
		            </LinearGradientBrush>
	            </Border.Background>
	            <Border.BorderBrush>
		            <LinearGradientBrush StartPoint="100%,0%" EndPoint="100%,100%" Opacity=".5">
			            <GradientStop Color="#40FFFFFF" Offset="0.0"/>
			            <GradientStop Color="#60FFFFFF" Offset="1.0"/>
		            </LinearGradientBrush>
	            </Border.BorderBrush>

	            <StackPanel Spacing="8">
		            <TextBlock Text="Anwesenheit-Statistik" FontSize="16" HorizontalAlignment="Center" FontFamily="{DynamicResource UrbanistFont}" FontWeight="DemiBold" />
		            <Grid RowDefinitions="*" ColumnDefinitions="Auto, Auto" ColumnSpacing="6" HorizontalAlignment="Center">
			            <Border Grid.Column="0" CornerRadius="4" Padding="6 2" BorderBrush="#003764" BorderThickness="1">
				            <TextBlock Text="HomeOffice" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{DynamicResource UrbanistFont}" FontWeight="SemiBold" LetterSpacing="0.25"  />
			            </Border>
			            <Border Grid.Column="1" CornerRadius="4" Padding="6 2" BorderBrush="#357a32" BorderThickness="1">
				            <TextBlock Text="Standort" FontSize="10" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{DynamicResource UrbanistFont}" FontWeight="SemiBold" LetterSpacing="0.25"  />
			            </Border>
		            </Grid>
		            <Grid x:Name="StatsGrid" ColumnDefinitions="*,Auto" ColumnSpacing="4" Margin="0 8 0 0">
			            <StackPanel Grid.Column="0" x:Name="DynamicStatsContainer" />
			            <Button Grid.Column="1"
			                    FontSize="12"
			                    Padding="5"
			                    VerticalAlignment="Top"
			                    Background="Transparent"
			                    ToolTip.Tip="Tag hinzufügen"
			                    ToolTip.Placement="Top"
			                    ToolTip.VerticalOffset="0"
			                    Command="{Binding ShowAddCurrentDayDialogCommand}"
			            >
				            <Button.Content>
					            <fluent:SymbolIcon Symbol="Add" Opacity=".5" />
				            </Button.Content>
			            </Button>
		            </Grid>
	            </StackPanel>
            </Border>

            <!-- Tabs -->
            <Grid Grid.Row="1">
                <fluent:TabView
	                TabWidthMode="SizeToContent"
	                CanReorderTabs="False"
	                CanDragTabs="False"
	                AllowDropTabs="False"
	                IsAddTabButtonVisible="False"
	            >
	                <!-- Geplante Tage -->
                    <fluent:TabViewItem
	                    Header="Geplante Tage"
	                    FontFamily="{DynamicResource UrbanistFont}"
	                    IsClosable="False"
	                    BorderThickness="4"
	                >
                        <Grid RowDefinitions="*,Auto" Margin="10" RowSpacing="5">
                            <Button Grid.Row="1" HorizontalAlignment="Stretch" FontSize="12" Command="{Binding ShowAddPlannableDayDialogCommand}" FontFamily="{DynamicResource UrbanistFont}">Neuen Tag planen</Button>
                            <ListBox Grid.Row="0">
                                <ListBoxItem>
                                    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                                        <TextBlock Grid.Column="0" Text="29.09.2025" VerticalAlignment="Center" FontFamily="{DynamicResource UrbanistFont}" />
                                        <TextBlock Grid.Column="1" Text="Standort" VerticalAlignment="Center" FontFamily="{DynamicResource UrbanistFont}" />
                                        <Button Grid.Column="2"
                                                FontSize="16"
                                                Padding="4"
                                                VerticalAlignment="Center"
                                                Background="Transparent"
                                                ToolTip.Tip="Löschen"
                                                ToolTip.Placement="Top"
                                                ToolTip.VerticalOffset="0"
                                                Command="{Binding ShowDeletePlannableDayDialogCommand}"
                                            >
                                            <Button.Content>
                                                <fluent:SymbolIcon Symbol="Delete" Opacity=".5" />
                                            </Button.Content>
                                        </Button>
                                    </Grid>
                                </ListBoxItem>
                            </ListBox>
                        </Grid>
                    </fluent:TabViewItem>

                    <!-- Vorhersage Statistiken -->
                    <fluent:TabViewItem Header="Vorhersage (Statistiken)" FontFamily="{DynamicResource UrbanistFont}" IsClosable="False">
                        <Grid RowDefinitions="*,Auto" Margin="10" RowSpacing="5">
                            <Button Grid.Row="1" HorizontalAlignment="Stretch" FontSize="12">Weitere Woche anzeigen</Button>
                            <ListBox Grid.Row="0" x:Name="List" />
                        </Grid>
                    </fluent:TabViewItem>
                </fluent:TabView>
            </Grid>
        </Grid>
    </Panel>
</UserControl>
